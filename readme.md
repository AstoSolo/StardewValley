# Asto's Modpack Installer

Кроссплатформенный лаунчер для установки готовых модпаков в Stardew Valley с использованием Mod Organizer 2.

## Основной функционал

- Выбор сборки модов из JSON-файлов в папке `modlists/`.
- Автоматическая загрузка модов по прямым ссылкам.
- Распаковка ZIP-архивов модов во временную папку.
- Установка модов в директорию `mods/` Mod Organizer 2.
- Генерация файла `meta.ini` для каждого мода на основе шаблона.
- Загрузка и применение глобальных конфигураций с GitHub.
- Ведение логов установки.

## Структура проекта

Проект состоит из основного установщика и папок Mod Organizer 2.

```commandline
Stardew Valley
├── launcher
│ ├── Asto's Modpack Installer/
│ ├── main.py                       # Точка входа
│ ├── config.json                   # Общий конфиг (пути, GitHub URL)
│ ├── modlists/                     # Сборки модов
│ │ └── example_modpack.json        # Список модов к загрузке
│ ├── utils/
│ │ ├── downloader.py               # Функции скачивания файлов
│ │ ├── gitpack_sync.py             # Синхронизация конфигов с GitHub
│ │ ├── installer.py                # Установка модов, создание meta.ini
│ │ └── logger.py                   # Ведение логов
│ │
│ ├── .cache/                       # Временные файлы
│ │ ├── downloads/                  # Скачанные архивы модов
│ │ └── github_config/              # Распакованные конфиги с GitHub
│ ├── logs/
│ │ └── install_YYYY-MM-DD.txt      # Логи установки (с указанием даты)
│ │
│ ├── mods/                         # Моды (Mod Organizer 2)
│ ├── overwrite/                    # Папка overwrite (Mod Organizer 2)
│ └── profiles/                     # Профили (Mod Organizer 2)
│ 
├── modpacks
│ ├── example/
│ │ ├── overwrite                   # Функции скачивания файлов
│ │ ├── profiles                    # Профили (Mod Organizer 2)
│ │ └── example_modpack.json        # Список модов к загрузке

```

## TODO

### Базовый CLI-прототип

- [x] Загрузка модлиста из `modlists/`.
- [x] Скачивание модов по URL.
- [x] Распаковка ZIP-архивов.
- [x] Перемещение модов в папку `mods/`.
- [x] Генерация `meta.ini` по шаблону.
- [x] Скачивание глобальной конфигурации с GitHub.
- [x] Распаковка и применение конфигурации.
- [x] Ведение лога установки. 
  - [x] Метки времени
  - [x] Ротация логов >3

### Улучшение CLI

- [ ] Улучшить логгирование (уровни INFO, WARNING, ERROR).
- [ ] Обработка ошибок (сетевых или при распаковке).
- [ ] Чтение конфигурации путей из `config.json`.

### Графический интерфейс

- [ ] Реализация GUI (на PySide6 или tkinter).
- [ ] Добавление прогресс-бара загрузки.
- [ ] Удобный выбор модлиста в интерфейсе.
- [ ] Кнопка запуска Mod Organizer 2.

### Прочее

- [ ] Сборка проекта в самостоятельное приложение (Через PyInstaller).
- [ ] Автоматические тесты (минимум на парсинг JSON и скачивание ZIP).
- [ ] Документация по созданию своих модлистов.